<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ja"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Timeline Memo - Highlight&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #333;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #fff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: sticky;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 200;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-bottom: 1px solid #eee;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#timeline-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0 15px 100px 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 600px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.year-section {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.year-header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: sticky;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 50px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #fff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px 0 10px 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #4a90e2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 100;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.month-row {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: flex-start;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-bottom: 1px solid #f9f9f9;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.3s ease; /* 色の変化を滑らかに */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* --- ここが重要：入力がある時の背景色 --- */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.has-content {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #fcf8f0; /* 淡いベージュ */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.month-label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 50px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #888;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-shrink: 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.divider {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 2px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #eee;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-self: stretch;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.divider::after {</p>
<p class="p1"><span class="Apple-converted-space">            </span>content: "";</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: -3px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #4a90e2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 入力がある月はドットの色も少し強調する（お好みで） */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.has-content .divider::after {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #f39c12;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.memo-area {</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-grow: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px 0 10px 15px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>textarea {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1.6;</p>
<p class="p1"><span class="Apple-converted-space">            </span>resize: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>outline: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: transparent;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #444;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">            </span>field-sizing: content;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 2em;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;header&gt;タイムラインログ&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="timeline-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="timeline"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const timeline = document.getElementById('timeline');</p>
<p class="p1"><span class="Apple-converted-space">    </span>let year = 2024;</p>
<p class="p1"><span class="Apple-converted-space">    </span>let month = 1;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const now = new Date();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const endYear = now.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const endMonth = now.getMonth() + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function buildTimeline() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentYearSection = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentYearVal = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>while (year &lt; endYear || (year === endYear &amp;&amp; month &lt;= endMonth)) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (year !== currentYearVal) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentYearSection = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentYearSection.className = 'year-section';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const yearHeader = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>yearHeader.className = 'year-header';</p>
<p class="p1"><span class="Apple-converted-space">                </span>yearHeader.innerText = `${year}年`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentYearSection.appendChild(yearHeader);</p>
<p class="p1"><span class="Apple-converted-space">                </span>timeline.appendChild(currentYearSection);</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentYearVal = year;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthId = `${year}-${month}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedText = localStorage.getItem(monthId) || "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const row = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>row.className = 'month-row';</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 初期読み込み時に入力があれば色をつける</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (savedText.trim() !== "") {</p>
<p class="p1"><span class="Apple-converted-space">                </span>row.classList.add('has-content');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>row.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="month-label"&gt;${month}月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="divider"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="memo-area"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea id="${monthId}" placeholder="---" rows="1"&gt;${savedText}&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>currentYearSection.appendChild(row);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const textarea = row.querySelector('textarea');</p>
<p class="p1"><span class="Apple-converted-space">            </span>textarea.addEventListener('input', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem(monthId, textarea.value);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 入力があるかどうかでクラスを付け外しする</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (textarea.value.trim() !== "") {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>row.classList.add('has-content');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>row.classList.remove('has-content');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>month++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (month &gt; 12) { month = 1; year++; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>buildTimeline();</p>
<p class="p1"><span class="Apple-converted-space">    </span>window.onload = () =&gt; { window.scrollTo(0, document.body.scrollHeight); };</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
